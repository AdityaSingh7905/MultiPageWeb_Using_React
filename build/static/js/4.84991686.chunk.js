(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[4],{19:function(t,e,n){"use strict";var s=n(0);function o(t,e){return"SEND"===e.type?{data:null,error:null,status:"pending"}:"SUCCESS"===e.type?{data:e.responseData,error:null,status:"completed"}:"ERROR"===e.type?{data:null,error:e.errorMessage,status:"completed"}:t}e.a=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[n,c]=Object(s.useReducer)(o,{status:e?"pending":null,data:null,error:null});return{sendRequest:Object(s.useCallback)((async function(e){c({type:"SEND"});try{const n=await t(e);c({type:"SUCCESS",responseData:n})}catch(n){c({type:"ERROR",errorMessage:n.message||"Something went wrong!"})}}),[t]),...n}}},20:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return i}));const s="https://react-http-b5b2d-default-rtdb.firebaseio.com";async function o(){const t=await fetch("".concat(s,"/quotes.json")),e=await t.json();if(!t.ok)throw new Error(e.message||"Could not fetch quotes.");const n=[];for(const s in e){const t={id:s,...e[s]};n.push(t)}return n}async function c(t){const e=await fetch("".concat(s,"/quotes/").concat(t,".json")),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not fetch quote.");return{id:t,...n}}async function r(t){const e=await fetch("".concat(s,"/quotes.json"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not create quote.");return null}async function a(t){const e=await fetch("".concat(s,"/comments/").concat(t.quoteId,".json"),{method:"POST",body:JSON.stringify(t.commentData),headers:{"Content-Type":"application/json"}}),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not add comment.");return{commentId:n.name}}async function i(t){const e=await fetch("".concat(s,"/comments/").concat(t,".json")),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not get comments.");const o=[];for(const s in n){const t={id:s,...n[s]};o.push(t)}return o}},21:function(t,e,n){t.exports={item:"QuoteItem_item__1qHLL"}},22:function(t,e,n){t.exports={list:"QuoteList_list__2P87b",sorting:"QuoteList_sorting__1_Zmn"}},23:function(t,e,n){t.exports={noquotes:"NoQuotesFound_noquotes__3gHWf"}},34:function(t,e,n){"use strict";n.r(e);var s=n(0),o=n(19),c=n(20),r=n(4),a=n(21),i=n.n(a),u=n(3);var d=t=>Object(u.jsxs)("li",{className:i.a.item,children:[Object(u.jsxs)("figure",{children:[Object(u.jsx)("blockquote",{children:Object(u.jsx)("p",{children:t.text})}),Object(u.jsx)("figcaption",{children:t.author})]}),Object(u.jsx)(r.a,{to:"/quotes/".concat(t.id),className:"btn",children:"View Fullscreen"})]}),l=n(22),j=n.n(l),h=n(2);var f=t=>{const e=Object(h.q)(),n=Object(h.o)(),o="asc"===new URLSearchParams(n.search).get("sort"),c=(r=t.quotes,a=o,r.sort(((t,e)=>a?t.id>e.id?1:-1:t.id<e.id?1:-1)));var r,a;return Object(u.jsxs)(s.Fragment,{children:[Object(u.jsx)("div",{className:j.a.sorting,children:Object(u.jsxs)("button",{onClick:()=>{e("?sort="+(o?"desc":"asc"))},children:["Sort ",o?"Descending":"Ascending"]})}),Object(u.jsx)("ul",{className:j.a.list,children:c.map((t=>Object(u.jsx)(d,{id:t.id,author:t.author,text:t.text},t.id)))})]})},m=n(8),b=n(23),p=n.n(b);var O=()=>Object(u.jsxs)("div",{className:p.a.noquotes,children:[Object(u.jsx)("p",{children:"No quotes found!"}),Object(u.jsx)(r.a,{className:"btn",to:"/new-quote",children:"Add a Quote"})]});e.default=()=>{const{sendRequest:t,status:e,data:n,error:r}=Object(o.a)(c.d,!0);return Object(s.useEffect)((()=>{t()}),[t]),"pending"===e?Object(u.jsx)("div",{className:"centered",children:Object(u.jsx)(m.a,{})}):r?Object(u.jsx)("div",{className:"centered focused",children:r}):"completed"!==e||n&&0!==n.length?Object(u.jsx)(f,{quotes:n}):Object(u.jsx)(O,{})}}}]);
//# sourceMappingURL=4.84991686.chunk.js.map